@(activities: Iterable[Activity])(implicit flash:Flash)

@com.sparkydots.activityServer.views.html.admin.main("All activities") {
<div ng-controller="activityList">

    @flash.get("success").map { msg =>
        <div class="flash">@msg</div>
    }

    <a href="@com.sparkydots.activityServer.controllers.admin.routes.Activities.add">Add a new activity</a>
    <div>
        <h3>All activities</h3>

        @if(activities.isEmpty) {
            <p>No activities found</p>
        } else {
            <ul class="table-view table-view-list">
                @for(activity <- activities) {
                    <li class="table-view-cell">
                        <button class="btn btn-primary btn-noposition" ng-click="deleteActivity('@com.sparkydots.activityServer.controllers.admin.routes.Activities.delete(activity.id)', '@activity.id')" class="btn btn-link icon icon-close">DELETE</button>
                        <br>
                        <a class="color-practice div-inline" href="@com.sparkydots.activityServer.controllers.admin.routes.Activities.edit(activity.id)">
                            [@activity.id:@activity.version]<br>
                            @activity.name<br>
                            @activity.shortDescription<br>
                            @activity.authorDate<br>
                        </a>
                    </li>
                }
            </ul>
        }
    </div>

</div>
}