var e,_initLocal;(_initLocal=function(a){var b;return void 0===a.numeric?void console.log("wrong init order..."):(b=a.numeric,b.appVersion=1,b.appName="AppOne",b.key.settings="numeric"+b.appName+"Settings",b.key.deviceId="numeric"+b.appName+"DeviceId",b.key.currentActivitySummary="numeric"+b.appName+"CurrentActivitySummary",b.key.storedActivitySummaries="numeric"+b.appName+"StoredActivitySummaries",b.key.messages="numeric"+b.appName+"Messages",b.key.channelActivities="numeric"+b.appName+"ChannelActivitiesCache",b.url.base.numeric="numericdata/",b.url.base.fs="numericdata/"+b.appName+"/",b.path.touch="touch",b.path.channels="channels",b.path.list="activity/list",b.path.activity="activity/",b.path.body="activity/body/",b.path.result="result/",void 0===b.defaultSettings&&b.defaultSettings==={},b.defaultSettings.defaultChannel="public.1000",b.defaultSettings.stringTitle=b.appName,b.defaultSettings.stringActivities="Activities",b.defaultSettings.stringHistory="History",b.defaultSettings.stringHistoryItem="Task Summary")})(document);try{!function(a){var b,c,d,e;return c=location.protocol,d=location.hostname,b=location.port,b.length>0&&(b=":"+b),e=c+"//"+d+b,a.document.numeric.url.base.chrome=a.document.numeric.url.base.chrome.replace("SERVERNAME",e),"localhost"===d&&":9000"===b?(a.document.numeric.url.base.chrome="filesystem:http://localhost:9000/temporary/",a.document.numeric.defaultSettings.mainServerAddress="http://localhost:9000/activityServer/data/",a.document.numeric.defaultSettings.showSettings=!0):void 0}(this)}catch(_error){e=_error,console.log(e)}angular.module("AppOne",["ngRoute","ngMd5","timer","ModulePersistence","ModuleSettings","ModuleMessage","BaseLib","ModuleIdentity","ModuleCommunication","ModuleDataPack","ModuleDataUtilities","ActivityLib"]),angular.module("AppOne").controller("ApplicationCtrl",["$scope","$location","Settings","Application",function(a,b,c){var d;return d=function(){return b.path("/home")},c.ready?d():(a.settingsLoaded=!1,c.init(document.numeric.key.settings,document.numeric.defaultSettings).then(function(){return function(){return d()}}(this))["catch"](function(){return function(){return a.errorMessage="Application needs some local storage enabled to work."}}(this)))}]),angular.module("AppOne").controller("SampleQuestionCtrl",["$scope","$sce","PersistenceManager","KristaQuestions",function(a,b,c,d){return a.browserGood="undefined"!=typeof navigator.webkitPersistentStorage,window.pers=c,a.regen=function(e){var f,g;return c.save("testikl",{s:1,b:"as",c:{h:"yello"}}).then(function(){return c.read("testikl").then(function(b){return a.testik=b})})["catch"](function(a){return console.log(a)}),a.showAnswer=!1,g=d.generate(e),a.question=b.trustAsHtml(""+g[0][0]),g[0].length>1?(a.choices=function(){var a,c,d,e;for(d=g[0][1],e=[],a=0,c=d.length;c>a;a++)f=d[a],e.push(b.trustAsHtml(""+f));return e}(),a.answer=b.trustAsHtml(""+g[0][1][g[1]])):(a.choices=void 0,a.answer=b.trustAsHtml(""+g[1]))},a.regen(4)}]),angular.module("AppOne").controller("TestCtrl",["$scope","$rootScope","$routeParams","$http","md5","FS","Settings",function(a,b,c,d,e,f,g){return a.showScriptsInHead=function(){var b,c,d,e,f;for(c=document.getElementsByTagName("script"),a.scripts=[],f=[],d=0,e=c.length;e>d;d++)b=c[d],f.push(void 0!==b.id&&""!==b.id?a.scripts.push(b):void 0);return f},a.getHttpsData=function(){return d.get("https://www.vicinitalk.com/api/v1/post/375/?format=json").then(function(b){return console.log(b),a.httpsdata=b.data},function(a){return console.log("error: "+a)})},a.writeToFile=function(){return f.writeToFile("testdata.txt","hsellodata")},a.readFromFile=function(){return f.readFromFile("testdata.txt").then(function(b){return a.readData=b})},a.getContentsRaw=function(a){return f.getContents(a)},a.getFromLocal=function(b){return a.localData=window.localStorage.getItem(b)},a.testmd5=function(b){return a.localData=e.createHash(b)},a.setServerToLocalHost=function(){return g.set("mainServerAddress","http://localhost:9000/starpractice/data/")}}]),angular.module("AppOne").config(["$routeProvider",function(a){return a.when("/",{templateUrl:"/assets/apps/AppOne/templates/home.html",controller:"ApplicationCtrl"}).when("/home",{templateUrl:"/assets/apps/AppOne/templates/home.html",controller:"HomeCtrl"}).when("/info",{templateUrl:"/assets/apps/AppOne/templates/info.html",controller:"InfoCtrl"}).when("/channelList",{templateUrl:"/assets/apps/AppOne/templates/channelList.html",controller:"ChannelListCtrl"}).when("/channel",{templateUrl:"/assets/apps/AppOne/templates/channel.html",controller:"ChannelCtrl"}).when("/tags",{templateUrl:"/assets/apps/AppOne/templates/tags.html",controller:"TagsCtrl"}).when("/task",{templateUrl:"/assets/apps/AppOne/templates/task.html",controller:"TaskCtrl"}).when("/history",{templateUrl:"/assets/apps/AppOne/templates/history.html",controller:"HistoryCtrl"}).when("/historyItem",{templateUrl:"/assets/apps/AppOne/templates/historyItem.html",controller:"HistoryItemCtrl"}).when("/settings",{templateUrl:"/assets/apps/AppOne/templates/settings.html",controller:"SettingsCtrl"}).when("/connect",{templateUrl:"/assets/apps/AppOne/templates/connect.html",controller:"ConnectCtrl"}).when("/myIdentity",{templateUrl:"/assets/apps/AppOne/templates/myIdentity.html",controller:"MyIdentityCtrl"}).when("/teachers",{templateUrl:"/assets/apps/AppOne/templates/teachers.html",controller:"TeachersCtrl"}).when("/addTeacher",{templateUrl:"/assets/apps/AppOne/templates/addTeacher.html",controller:"AddTeacherCtrl"}).when("/test",{templateUrl:"/assets/apps/AppOne/templates/test.html",controller:"TestCtrl"}).when("/sampleQuestion",{templateUrl:"/assets/apps/AppOne/templates/sampleQuestion.html",controller:"SampleQuestionCtrl"}).otherwise({redirectTo:"/"})}]).run(["$route","$location","TaskCtrlState",function(a,b,c){return a.reload(),document.addEventListener("backbutton",function(){return function(){var d;return d=b.path(),"undefined"!=typeof d&&"/task"===d.substr(0,5)?c.backButton():(b.path("undefined"!=typeof d&&"/historyItem"===d.substr(0,12)?"/history":"/"),a.reload())}}(this),!1),document.addEventListener("menubutton",function(){return function(){var c;return c=b.path(),console.log("menu button, current: "+c),"undefined"!=typeof c&&"/task"===c.substr(0,5)||"undefined"!=typeof c&&"/settings"===c.substr(0,9)?void 0:(b.path("/settings"),a.reload())}}(this),!1)}]).config(["$compileProvider","$httpProvider",function(a,b){return a.aHrefSanitizationWhitelist(/^\s*(https?|cdvfile|ftp|mailto|file|tel):/),b.defaults.useXDomain=!0}]),angular.module("AppOne").factory("Application",["$sce","Settings",function(){var a,b;return a=function(){function a(){}return a}(),b=new a,document.numeric.application=b,b}]);