var e,_initLocal;(_initLocal=function(a){var b;return void 0===a.numeric?void console.log("wrong init order..."):(b=a.numeric,b.appGroup="com.sparkydots.apps",b.appVersion=1,b.appName="Admin",b.key.settings="numeric"+b.appName+"Settings",b.key.deviceId="numeric"+b.appName+"DeviceId",b.key.currentActivitySummary="numeric"+b.appName+"CurrentActivitySummary",b.key.storedActivitySummaries="numeric"+b.appName+"StoredActivitySummaries",b.key.messages="numeric"+b.appName+"Messages",b.key.channelActivities="numeric"+b.appName+"ChannelActivitiesCache",b.url.base.numeric="numericdata/",b.url.base.fs="numericdata/"+b.appName+"/",b.path.touch="touch",b.path.channels="channels",b.path.list="activity/list",b.path.activity="activity/",b.path.body="activity/body/",b.path.result="result/",void 0===b.defaultSettings&&b.defaultSettings==={},b.defaultSettings.defaultChannel="public.1000",b.defaultSettings.stringTitle=b.appName,b.defaultSettings.stringActivities="Activities",b.defaultSettings.stringHistory="History",b.defaultSettings.stringHistoryItem="Activity Summary",b.defaultSettings.showTabPractice=!1,b.defaultSettings.showTabHistory=!1,b.defaultSettings.showSettings=!0,b.customTabs=[{page:"activities",text:"Activities"},{page:"channels",text:"Channels"},{page:"endUserProfiles",text:"EndUserProfiles"}])})(document);try{!function(a){var b,c,d,e;return c=location.protocol,d=location.hostname,b=location.port,b.length>0&&(b=":"+b),e=c+"//"+d+b,a.document.numeric.url.base.chrome=a.document.numeric.url.base.chrome.replace("SERVERNAME",e),"localhost"===d&&":9000"===b?(a.document.numeric.url.base.chrome="filesystem:http://localhost:9000/temporary/",a.document.numeric.defaultSettings.mainServerAddress="http://localhost:9000/activityServer/data/",a.document.numeric.defaultSettings.showSettings=!0):void 0}(this)}catch(_error){e=_error,console.log(e)}angular.module("Admin",["ngRoute","ngMd5","timer","ModulePersistence","ModuleSettings","ModuleMessage","BaseLib","ModuleIdentity","ModuleCommunication","ModuleDataPack","ModuleDataUtilities","ActivityLib"]),angular.module("Admin").controller("ActivitiesCtrl",["$scope","$location","$route","$sce","Settings","Application","ServerHttp",function(a,b,c,d,e,f,g){return a.showHtmlData=!1,g.get("/activityServer/admin/activity?startIndex=0&size=100").then(function(b){return a.activities=b.data.activities}),a.editForm=function(b){return a.showHtmlData=!0,g.get("/activityServer/admin/activity/"+b).then(function(b){return a.htmlData=d.trustAsHtml(b.data)})["catch"](function(b){return console.log(b),a.showHtmlData=!1})},a.saveForm=function(){var b;return b=angular.element(document.querySelector("#serverForm")),console.log(b),window.rr=b,a.showHtmlData=!1,a.htmlData=""},a.backButton=function(){return a.showHtmlData===!0?(a.showHtmlData=!1,a.htmlData=""):b.path("/")},a.deleteActivity=function(a,b){var c,d,e,f;return d=location.protocol,e=location.hostname,c=location.port,c.length>0&&(c=":"+c),f=d+"//"+e+c,g["delete"](f+a,b).then(function(){return console.log("ok")})["catch"](function(a){return console.log(a)}).then(function(){return window.location.reload()})}}]),angular.module("Admin").controller("ApplicationCtrl",["$scope","$location","$route","Settings","Application",function(a,b,c,d){var e;return e=function(){return b.path("/home"),c.reload()},d.ready?e():(a.settingsLoaded=!1,d.init(document.numeric.key.settings,document.numeric.defaultSettings).then(function(){return function(){return e()}}(this))["catch"](function(){return function(){return a.errorMessage="Application needs some local storage enabled to work."}}(this)))}]),angular.module("Admin").controller("ChannelsCtrl",["$scope","$location","$sce","Settings","Application","ServerHttp",function(a,b,c,d,e,f){return f.get("/activityServer/admin/channel?startIndex=0&size=100").then(function(b){return a.channels=b.data.channels})}]),angular.module("Admin").controller("EndUserProfilesCtrl",["$scope","$location","$sce","Settings","Application","ServerHttp",function(a,b,c,d,e,f){return f.get("/activityServer/admin/profile?startIndex=0&size=100").then(function(b){return a.endUserProfiles=b.data.endUserProfiles})}]),angular.module("Admin").controller("activityAdd",["$scope",function(){return console.log("add activity")}]).controller("activityEdit",["$scope",function(){return console.log("edit activity")}]).controller("activityList",["$scope","$location","$route","DeviceId","ServerHttp",function(a,b,c,d,e){return console.log("list activities"),console.log(d.devicePublicId),a.deleteActivity=function(a,b){var c,d,f,g;return d=location.protocol,f=location.hostname,c=location.port,c.length>0&&(c=":"+c),g=d+"//"+f+c,e["delete"](g+a,b).then(function(){return console.log("ok")})["catch"](function(a){return console.log(a)}).then(function(){return window.location.reload()})}}]),angular.module("Admin").config(["$routeProvider",function(a){return a.when("/jojo",{templateUrl:"/assets/apps/Admin/templates/history.html",controller:"HistoryCtrl"})}]),angular.module("Admin").factory("Application",["$sce","Settings","DeviceId",function(a,b,c){var d,e;return d=function(){function b(){this.customDisplay={},this.customDisplay.content=a.trustAsHtml('<span class="yourId">Your ID:<br>'+c.devicePublicId+"</span>")}return b}(),e=new d,document.numeric.application=e,e}]);