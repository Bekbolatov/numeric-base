var e;document.numeric={appVersion:1,appName:"earnit",modules:{},numericTasks:{},key:{settings:"numericEarnItSettings",deviceId:"numericEarnItDeviceId",currentActivitySummary:"numericEarnItCurrentActivitySummary",storedActivitySummaries:"numericEarnItStoredActivitySummaries",messages:"numericEarnItMessages",channelActivities:"numericEarnItChannelActivitiesCache"},url:{base:{fs:"numericdataEarnIt/",cdv:"cdvfile://localhost/persistent/",chrome:"filesystem:SERVERNAME/temporary/",server:"https://www.sparkydots.com:8443/activityServer/data/"}},path:{touch:"touch",channels:"channels",list:"activity/list",activity:"activity/",body:"activity/body/",result:"result/"},defaultSettings:{defaultChannel:1,title:"EarnIt",pageSize:10,historyServerSync:!1,mainServerAddress:"https://www.sparkydots.com:8443/activityServer/data/"}};try{!function(a){var b,c,d,e;return c=location.protocol,d=location.hostname,b=location.port,b.length>0&&(b=":"+b),e=c+"//"+d+b,a.document.numeric.url.base.chrome=a.document.numeric.url.base.chrome.replace("SERVERNAME",e),"localhost"===d&&":9000"===b?(a.document.numeric.url.base.chrome="filesystem:http://localhost:9000/temporary/",a.document.numeric.defaultSettings.mainServerAddress="http://localhost:9000/activityServer/data/"):void 0}(this)}catch(_error){e=_error,console.log(e)}angular.module("EarnIt",["ngRoute","ngMd5","timer","ModulePersistence","ModuleSettings","ModuleMessage","BaseLib","ModuleIdentity","ModuleCommunication","ModuleDataPack","ModuleDataUtilities","ActivityLib"]),angular.module("EarnIt").controller("HomeCtrl",["$scope","$sce","Settings","Tracker","StarPracticeApi","MessageDispatcher","Channels","ActivitySummary","Tags",function(a,b,c,d,e,f,g,h,i){var j;return j=function(){var e;return d.touch("home"),a.settingsLoaded=!0,e=f.getMessageToShow(),void 0!==e?(a.showMessage=!0,a.message=b.trustAsHtml(e.content)):(a.showMessage=!1,a.message=""),a.navigateToTagsOrChannel=function(a,b){return i.hasTags()?i.navigateToTags():((void 0===a||void 0===b)&&(a=c.get("defaultChannel"),b="Public"),g.navigateToChannel(a,b,"#/"))},a.hasHistory=h.hasHistory(),a.title=c.get("title")},c.ready?j():(a.settingsLoaded=!1,c.init(document.numeric.key.settings,document.numeric.defaultSettings).then(function(){return function(){return j()}}(this))["catch"](function(){return function(){return a.errorMessage="Application needs some local storage enabled to work."}}(this)))}]),angular.module("EarnIt").controller("InfoCtrl",["$scope","$location","Settings","Tracker",function(a,b,c,d){return c.ready?d.touch("info"):b.path("/")}]),angular.module("EarnIt").controller("SettingsCtrl",["$scope","$location","Settings","Tracker",function(a,b,c,d){return c.ready?(d.touch("settings"),a.getAttr=function(a){return c.get(a)},a.setAttr=function(a,b){return c.set(a,b)},a.defaultMainServerAddress=c.getDefault("mainServerAddress"),a.mainServerAddress=c.get("mainServerAddress"),a.newMainServerAddress=c.get("mainServerAddress"),a.mainServerAddress_set=function(){var b;return b=a.newMainServerAddress.trim().replace("http://","https://"),0!==b.length?("/"!==b[b.length-1]&&(b+="/"),c.set("mainServerAddress",b),a.mainServerAddress=c.get("mainServerAddress"),a.newMainServerAddress=a.mainServerAddress):void 0},a.mainServerAddress_reset=function(){return c.unset("mainServerAddress"),a.mainServerAddress=c.get("mainServerAddress"),a.newMainServerAddress=c.get("mainServerAddress")},a.clearLocalStorage=function(){return window.localStorage.clear()}):b.path("/")}]),angular.module("EarnIt").controller("TagsCtrl",["$scope","$routeParams","$location","$sce","Settings","Tracker","Channels","ActivityDriver","StarPracticeApi",function(a,b,c,d,e,f){return e.ready?f.touch("tags"):c.path("/")}]),angular.module("EarnIt").config(["$routeProvider",function(a){return a.when("/",{templateUrl:"/assets/apps/templates/earnIt/home.html",controller:"HomeCtrl"}).when("/info",{templateUrl:"/assets/apps/templates/earnIt/info.html",controller:"InfoCtrl"}).when("/channelList",{templateUrl:"/assets/apps/templates/earnIt/channelList.html",controller:"ChannelListCtrl"}).when("/channel",{templateUrl:"/assets/apps/templates/earnIt/channel.html",controller:"ChannelCtrl"}).when("/tags",{templateUrl:"/assets/apps/templates/earnIt/tags.html",controller:"TagsCtrl"}).when("/task",{templateUrl:"/assets/apps/templates/earnIt/task.html",controller:"TaskCtrl"}).when("/history",{templateUrl:"/assets/apps/templates/earnIt/history.html",controller:"HistoryCtrl"}).when("/historyItem",{templateUrl:"/assets/apps/templates/earnIt/historyItem.html",controller:"HistoryItemCtrl"}).when("/settings",{templateUrl:"/assets/apps/templates/earnIt/settings.html",controller:"SettingsCtrl"}).when("/connect",{templateUrl:"/assets/apps/templates/earnIt/connect.html",controller:"ConnectCtrl"}).when("/myIdentity",{templateUrl:"/assets/apps/templates/earnIt/myIdentity.html",controller:"MyIdentityCtrl"}).when("/teachers",{templateUrl:"/assets/apps/templates/earnIt/teachers.html",controller:"TeachersCtrl"}).when("/addTeacher",{templateUrl:"/assets/apps/templates/earnIt/addTeacher.html",controller:"AddTeacherCtrl"}).when("/test",{templateUrl:"/assets/apps/templates/earnIt/test.html",controller:"TestCtrl"}).when("/sampleQuestion",{templateUrl:"/assets/apps/templates/earnIt/sampleQuestion.html",controller:"SampleQuestionCtrl"}).otherwise({redirectTo:"/"})}]).run(["$route","$location","TaskCtrlState",function(a,b,c){return a.reload(),document.addEventListener("backbutton",function(){return function(){var d;return d=b.path(),"undefined"!=typeof d&&"/task"===d.substr(0,5)?c.backButton():(b.path("undefined"!=typeof d&&"/historyItem"===d.substr(0,12)?"/history":"/"),a.reload())}}(this),!1),document.addEventListener("menubutton",function(){return function(){var c;return c=b.path(),console.log("menu button, current: "+c),"undefined"!=typeof c&&"/task"===c.substr(0,5)||"undefined"!=typeof c&&"/settings"===c.substr(0,9)?void 0:(b.path("/settings"),a.reload())}}(this),!1)}]).config(["$compileProvider","$httpProvider",function(a,b){return a.aHrefSanitizationWhitelist(/^\s*(https?|cdvfile|ftp|mailto|file|tel):/),b.defaults.useXDomain=!0}]),angular.module("EarnIt").factory("Tags",["$location","Settings","ServerHttp",function(a){var b;return new(b=function(){function b(){}return b.prototype.hasTags=function(){return!1},b.prototype.navigateToTags=function(){return a.path("/tags")},b}())}]);